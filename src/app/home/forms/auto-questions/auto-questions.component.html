<div>
  <div>
    <!--Question-->
    <div class="form-container">
      <!--SYMPTOMS-->
      <div class="question"><p class="title">Queestionnaire {{toDisplay}}, Question {{index + 1}} :</p></div>
      <form [formGroup]="symptomForm" *ngIf="toDisplay == 1">
        <div class="question-response">
          <div *ngFor="let item of symptomValues; let i = index">
            <div class="" *ngIf="i == symptomsIndex">
              <div class="div-title"><p class="label slide-in-left">{{item.label}}</p></div>
              <div class="div-questions">
                <div [ngSwitch]="item.type">
                  <div *ngSwitchCase="'number'">
                    <mat-radio-group formControlName="{{item.value}}" (change)="next()" class="align-column">
                      <mat-radio-button [value]=0>Oui / نعم</mat-radio-button>
                      <mat-radio-button [value]=1>Non / لا</mat-radio-button>
                      <mat-radio-button [value]=2><span> Je ne sais pas / لا أعرف</span></mat-radio-button>
                    </mat-radio-group>
                  </div>
                  <div *ngSwitchCase="'string'">
                    <mat-form-field class="w-100">
                      <input matInput placeholder="Other" formControlName="{{item.value}}"
                             >
                    </mat-form-field>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </form>
      <!--FIN SYMPTOMS-->

      <!--MEDICAL -->
      <form [formGroup]="medicalForm" *ngIf="toDisplay == 2">
        <div class="question-response">
          <div *ngFor="let item of medicalExtension; let i = index">
            <div *ngIf="medicalIndex == i">
              <div class="div-title"><p class="label slide-in-left slide-in-left">{{item.label}}</p></div>
              <div class="d-flex div-questions">
                <div [ngSwitch]="item.type">
                  <div *ngSwitchCase="'group'">
                    <div [formGroupName]="item.value">
                      <mat-radio-group [formControlName]="item.valueRadioBox" class="align-column">
                        <mat-radio-button [value]=0>Oui / نعم</mat-radio-button>
                        <mat-radio-button [value]=1>Non / لا</mat-radio-button>
                        <mat-radio-button [value]=2>Je ne sais pas / لا أعرف</mat-radio-button>
                      </mat-radio-group>
                    </div>
                  </div>

                  <div *ngSwitchCase="'number'">
                    <mat-radio-group [formControlName]="item.value" (change)="next()" class="align-column">
                      <mat-radio-button [value]=0>Oui / نعم</mat-radio-button>
                      <mat-radio-button [value]=1>Non / لا</mat-radio-button>
                      <mat-radio-button [value]=2 class="smallSize">Je ne sais pas / لا أعرف</mat-radio-button>
                    </mat-radio-group>
                  </div>
                </div>
                <div [formGroupName]="item.value" class="input-other"
                     *ngIf="item.type === 'group' && medicalForm.get(item.value).get(item.valueRadioBox).value === 0">
                  <mat-form-field class="w-100">
                    <input matInput placeholder="Spécifiez" formControlName="{{item.valueInput}}"
                           >
                  </mat-form-field>
                </div>
              </div>
            </div>
          </div>
        </div>

      </form>
      <!--FIN MEDICAL -->

      <!--SPECIMENS -->
      <form [formGroup]="testingForm" *ngIf="toDisplay == 3">
        <div class="question-response">
          <div *ngFor="let item of testingDiag; let i = index">
            <div *ngIf="testingIndex == i">
                <div class="div-title">
                  <p class="label slide-in-left slide-in-left">{{item.label}}</p>
                  <div [ngSwitch]="item.valueType" class="ml-3">
                    <div [formGroupName]="item.value">
                      <div *ngSwitchCase="'type'">
                        <mat-radio-group formControlName="firstValue" class="align" (change)="next()">
                          <mat-radio-button [value]=0>A</mat-radio-button>
                          <mat-radio-button [value]=1>B</mat-radio-button>
                        </mat-radio-group>
                      </div>
                      <div *ngSwitchCase="'string'">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Other" formControlName="firstValue" >
                        </mat-form-field>
                      </div>
                    </div>
                  </div>
                </div>
              <div class="div-questions">
                <div [ngSwitch]="item.type">
                  <div *ngSwitchCase="'number'">
                    <mat-radio-group [formControlName]="item.value" (change)="next()" class="align-column">
                      <mat-radio-button [value]=0>Pos</mat-radio-button>
                      <mat-radio-button [value]=1>Neg</mat-radio-button>
                      <mat-radio-button [value]=2>Pend.</mat-radio-button>
                      <mat-radio-button [value]=3>Not done</mat-radio-button>
                    </mat-radio-group>
                  </div>

                  <div *ngSwitchCase="'group'">
                    <div formGroupName="{{item.value}}">
                      <mat-radio-group required formControlName="secondValue" (change)="next()" class="align-column">
                        <mat-radio-button [value]=0>Pos</mat-radio-button>
                        <mat-radio-button [value]=1>Neg</mat-radio-button>
                        <mat-radio-button [value]=2>Pend.</mat-radio-button>
                        <mat-radio-button [value]=3>Not done</mat-radio-button>
                      </mat-radio-group>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </form>
      <!--FIN SPECIMENS -->
    </div>
    <div class="buttons">
      <button mat-stroked-button class="mr-2" (click)="previous()">Précédent</button>
      <button mat-stroked-button (click)="next()" *ngIf="!done">Suivant</button>
      <button mat-stroked-button (click)="save()" color="primary" *ngIf="done">Confirmer</button>
    </div>

  </div>
</div>
